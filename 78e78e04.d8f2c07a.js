(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=p(n),d=a,m=b["".concat(o,".").concat(d)]||b[d]||u[d]||i;return n?r.a.createElement(m,c(c({ref:t},s),{},{components:n})):r.a.createElement(m,c({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var s=2;s<i;s++)o[s]=n[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},145:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/api-key-btn-d4d915e977fc470ad97b0b847c29ba95.png"},146:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/api-key-name-d725f91cf9fc6f9f29041bab98f17a52.png"},147:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/api-key-popup-0a78802888caa77303c9db270742a764.png"},75:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(6),i=(n(0),n(103)),o={id:"gqlAuthorization",title:"Authorization tokens"},c={unversionedId:"reference/graphql/gqlAuthorization",id:"reference/graphql/gqlAuthorization",isDocsHomePage:!1,title:"Authorization tokens",description:"Positive Action provides token service for api customers. When you request a token, the service returns a unique access token in exchange for the clientid and secretid for a Positive Action API account.",source:"@site/docs/reference/graphql/gqlAuthorization.md",slug:"/reference/graphql/gqlAuthorization",permalink:"/docs/reference/graphql/gqlAuthorization",editUrl:"https://github.com/positiveaction/developer-docs/edit/master/docs/reference/graphql/gqlAuthorization.md",version:"current",sidebar:"someSidebar",previous:{title:"GraphQL requests",permalink:"/docs/reference/graphql/gqlRequests"},next:{title:"Queries",permalink:"/docs/reference/graphql/gqlQueries"}},l=[{value:"Credentials",id:"credentials",children:[]},{value:"API Client tokens",id:"api-client-tokens",children:[]}],s={rightToc:l};function p(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Positive Action provides token service for api customers. When you request a token, the service returns a unique access token in exchange for the client_id and secret_id for a Positive Action API account."),Object(i.b)("p",null,"Positive Action GraphQL provides a mutation that returns a token on behalf of a logged-in customer. Use this token in the Authorization request header field for any queries and mutations. See ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"gqlRequests"}),"Request headers")),Object(i.b)("h2",{id:"credentials"},"Credentials"),Object(i.b)("p",null,"Before your application can access private data using Positive Action API, you must obtain credentials that grant access to the API.\nVisit ",Object(i.b)("strong",{parentName:"p"},Object(i.b)("a",Object(a.a)({parentName:"strong"},{href:"https://positiveaction.net/api-admin/keys"}),"API Keys"))," to obtain Positive Action credentials\nsuch as a ",Object(i.b)("inlineCode",{parentName:"p"},"Client ID")," and ",Object(i.b)("inlineCode",{parentName:"p"},"Secret ID")," that are known to both Positive Action and your application."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"To generate a new API Key, click ",Object(i.b)("strong",{parentName:"li"},"Create new key"),".\n",Object(i.b)("img",{alt:"img",src:n(145).default})),Object(i.b)("li",{parentName:"ul"},"A popup will appear to set a ",Object(i.b)("inlineCode",{parentName:"li"},"Name")," to reference the API Key.\n",Object(i.b)("img",{alt:"img",src:n(146).default})),Object(i.b)("li",{parentName:"ul"},"On the next step you will have the credentials for the API Key such as ",Object(i.b)("inlineCode",{parentName:"li"},"Name"),", ",Object(i.b)("inlineCode",{parentName:"li"},"Client ID")," and ",Object(i.b)("inlineCode",{parentName:"li"},"Secret ID"),".\n",Object(i.b)("inlineCode",{parentName:"li"},"Secret ID")," will only be shown while the popup is active for security reasons.\nThis is the only opportunity to record it, copy this key to clipboard and store it somewhere safe.\n",Object(i.b)("inlineCode",{parentName:"li"},"Name")," and ",Object(i.b)("inlineCode",{parentName:"li"},"Client ID")," will still be available after the popup is closed.\n",Object(i.b)("img",{alt:"img",src:n(147).default}))),Object(i.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"Remember")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},Object(i.b)("inlineCode",{parentName:"p"},"Secret ID")," will be displayed only once!\nAfter you close the pop where it's listed, there is no way to display the value again.\nPlease copy and store your ",Object(i.b)("inlineCode",{parentName:"p"},"Secret ID")," in a safe place!"))),Object(i.b)("h2",{id:"api-client-tokens"},"API Client tokens"),Object(i.b)("p",null,"The ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"gqlMutations#login"}),Object(i.b)("inlineCode",{parentName:"a"},"login"))," mutation requires the ",Object(i.b)("inlineCode",{parentName:"p"},"Client ID")," and ",Object(i.b)("inlineCode",{parentName:"p"},"Secret ID")," in the payload, as shown in the following example:"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Request:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-graphql"}),'mutation {\n  login(loginInput: {\n    clientId: "760ex193-25xd-47b5-96fd-79537xxxxxxx"\n    secretId: "a8857dcd-0d52-4111-bfdb-ce73e7c124b3"\n  })\n  {\n    accessToken\n  }\n}\n')),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Response:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "data": {\n    "login": {\n      "accessToken": "xyJhbGciOiJIUzI2XiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjIsIm5hbWUiOi"\n    }\n  }\n}\n')),Object(i.b)("p",null,"You can now use this token in the Authorization request header field for all queries and ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"gqlMutations"}),Object(i.b)("inlineCode",{parentName:"a"},"login"))," mutation."))}p.isMDXComponent=!0}}]);